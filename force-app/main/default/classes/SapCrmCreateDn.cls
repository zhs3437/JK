//Generated by wsdl2apex

public class SapCrmCreateDn {
    public class HTTPS_Port {
        public String endpoint_x = System.Label.North_Asia_CreateDn;//'http://218.64.175.136:50000/XISOAPAdapter/MessageServlet?senderParty=&senderService=CRM&receiverParty=&receiverService=&interface=SI_CRM2ECC_CreateDn_Out&interfaceNamespace=urn:jinkosolar.com:crm:create_dn';
        public Map<String,String> inputHttpHeaders_x;
        public Map<String,String> outputHttpHeaders_x;
        public String clientCertName_x;
        public String clientCert_x;
        public String clientCertPasswd_x;
        public Integer timeout_x;
        private String[] ns_map_type_info = new String[]{'urn:jinkosolar.com:crm:create_dn', 'SapCrmCreateDn', 'urn:jinkosolar.com:ecc:create_dn', 'SapEccCreateDn'};
            public SapEccCreateDn.CreateDnReturn_element[] SI_CRM2ECC_CreateDn_Out(SapEccCreateDn.CreateDn_element[] CreateDn) {
                
                SapEccCreateDn.DT_CreateDn request_x = new SapEccCreateDn.DT_CreateDn();
                request_x.CreateDn = CreateDn;
                // ---- Add by Han
                this.inputHttpHeaders_x = new Map<String, String>();  
               // String baseStr = EncodingUtil.base64Encode(Blob.valueof('CRM_WSUSER:pid12345'));
                 String baseStr = EncodingUtil.base64Encode(Blob.valueof('CRM_WSUSER:pip12345'));
                this.inputHttpHeaders_x.put('Authorization', 'Basic '+ baseStr);
                system.debug('start login');
                SapEccCreateDn.DT_CreateDnReturn response_x;
                system.debug('response_x--:'+response_x);
                Map<String, SapEccCreateDn.DT_CreateDnReturn> response_map_x = new Map<String, SapEccCreateDn.DT_CreateDnReturn>();
                response_map_x.put('response_x', response_x);
                system.debug('response_map_x--:'+response_map_x);
                try{
                    WebServiceCallout.invoke(
                        this,
                        request_x,
                        response_map_x,
                        new String[]{endpoint_x,
                            'http://sap.com/xi/WebService/soap1.1',
                            'urn:jinkosolar.com:ecc:create_dn',
                            'MT_CreateDn',
                            'urn:jinkosolar.com:ecc:create_dn',
                            'MT_CreateDnReturn',
                            'SapEccCreateDn.DT_CreateDnReturn'}
                    );
                    system.debug('stop login');
                }catch(Exception ex){
                    system.debug('response_map_x-->'+response_map_x);
                    system.debug('service-->'+ex.getStackTraceString());
                    system.debug('service-->'+ex.getMessage());    
                    system.debug('service-->'+ex);
                }
                
                response_x = response_map_x.get('response_x');
                system.debug('response_x========:'+response_x);
                return response_x.CreateDnReturn;
            }
    }
}